[uWSGI] getting INI configuration from uwsgi.ini
*** Starting uWSGI 2.0.15 (64bit) on [Mon Jan 29 11:22:53 2018] ***
compiled with version: 7.2.1 20170915 (Red Hat 7.2.1-2) on 24 January 2018 14:09:17
os: Linux-4.14.13-200.fc26.x86_64 #1 SMP Thu Jan 11 05:43:34 UTC 2018
nodename: localhost.localdomain
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 8
current working directory: /home/kiro/Projekty/ftc
detected binary path: /home/kiro/anaconda3/envs/ftc/bin/uwsgi
*** WARNING: you are running uWSGI without its master process manager ***
your processes number limit is 127712
your memory page size is 4096 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uWSGI http bound on :8000 fd 7
spawned uWSGI http 1 (pid: 15975)
uwsgi socket 0 bound to TCP address 127.0.0.1:36955 (port auto-assigned) fd 6
Python version: 3.6.2 |Continuum Analytics, Inc.| (default, Jul 20 2017, 13:51:32)  [GCC 4.4.7 20120313 (Red Hat 4.4.7-1)]
*** Python threads support is disabled. You can enable it with --enable-threads ***
Python main interpreter initialized at 0x23da910
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 72760 bytes (71 KB) for 1 cores
*** Operational MODE: single process ***
WSGI app 0 (mountpoint='') ready in 5 seconds on interpreter 0x23da910 pid: 15974 (default app)
*** uWSGI is running in multiple interpreter mode ***
spawned uWSGI worker 1 (and the only) (pid: 15974, cores: 1)
[pid: 15974|app: 0|req: 1/1] 127.0.0.1 () {38 vars in 793 bytes} [Mon Jan 29 11:24:31 2018] GET / => generated 0 bytes in 473 msecs (HTTP/1.1 200) 2 headers in 92 bytes (0 switches on core 0)
[pid: 15974|app: 0|req: 2/2] 127.0.0.1 () {40 vars in 824 bytes} [Mon Jan 29 11:24:33 2018] GET / => generated 0 bytes in 0 msecs (HTTP/1.1 200) 2 headers in 92 bytes (0 switches on core 0)
[pid: 15974|app: 0|req: 3/3] 127.0.0.1 () {40 vars in 824 bytes} [Mon Jan 29 11:24:34 2018] GET / => generated 0 bytes in 0 msecs (HTTP/1.1 200) 2 headers in 92 bytes (0 switches on core 0)
[pid: 15974|app: 0|req: 4/4] 127.0.0.1 () {40 vars in 824 bytes} [Mon Jan 29 11:24:34 2018] GET / => generated 0 bytes in 0 msecs (HTTP/1.1 200) 2 headers in 92 bytes (0 switches on core 0)
[pid: 15974|app: 0|req: 5/5] 127.0.0.1 () {40 vars in 824 bytes} [Mon Jan 29 11:24:34 2018] GET / => generated 0 bytes in 0 msecs (HTTP/1.1 200) 2 headers in 92 bytes (0 switches on core 0)
[pid: 15974|app: 0|req: 6/6] 127.0.0.1 () {40 vars in 824 bytes} [Mon Jan 29 11:24:34 2018] GET / => generated 0 bytes in 0 msecs (HTTP/1.1 200) 2 headers in 92 bytes (0 switches on core 0)
[pid: 15974|app: 0|req: 7/7] 127.0.0.1 () {38 vars in 811 bytes} [Mon Jan 29 11:24:41 2018] GET /hw/device => generated 0 bytes in 0 msecs (HTTP/1.1 404) 2 headers in 92 bytes (0 switches on core 0)
[pid: 15974|app: 0|req: 8/8] 127.0.0.1 () {38 vars in 813 bytes} [Mon Jan 29 11:24:53 2018] GET /device/get => generated 0 bytes in 0 msecs (HTTP/1.1 404) 2 headers in 92 bytes (0 switches on core 0)
[pid: 15974|app: 0|req: 9/9] 127.0.0.1 () {34 vars in 408 bytes} [Mon Jan 29 11:29:40 2018] POST /hw/device => generated 0 bytes in 0 msecs (HTTP/1.1 404) 2 headers in 92 bytes (0 switches on core 0)
[pid: 15974|app: 0|req: 10/10] 127.0.0.1 () {34 vars in 434 bytes} [Mon Jan 29 11:31:15 2018] POST /v2/hw/device/231412435 => generated 3837 bytes in 2 msecs (HTTP/1.1 400) 3 headers in 111 bytes (1 switches on core 0)
[pid: 15974|app: 0|req: 11/11] 127.0.0.1 () {34 vars in 434 bytes} [Mon Jan 29 11:31:21 2018] POST /v2/hw/device/231412435 => generated 3837 bytes in 1 msecs (HTTP/1.1 400) 3 headers in 111 bytes (1 switches on core 0)
[pid: 15974|app: 0|req: 12/12] 127.0.0.1 () {34 vars in 433 bytes} [Mon Jan 29 11:31:23 2018] POST /v2/hw/device/231412555 => generated 3837 bytes in 1 msecs (HTTP/1.1 400) 3 headers in 111 bytes (1 switches on core 0)
[pid: 15974|app: 0|req: 13/13] 127.0.0.1 () {34 vars in 432 bytes} [Mon Jan 29 11:47:14 2018] POST /v1/hw/device/23141255 => generated 0 bytes in 0 msecs (HTTP/1.1 404) 2 headers in 92 bytes (0 switches on core 0)
[pid: 15974|app: 0|req: 14/14] 127.0.0.1 () {34 vars in 426 bytes} [Mon Jan 29 11:47:26 2018] POST /hw/device/23141255 => generated 3346 bytes in 1 msecs (HTTP/1.1 400) 3 headers in 111 bytes (1 switches on core 0)
[pid: 15974|app: 0|req: 15/15] 127.0.0.1 () {32 vars in 392 bytes} [Mon Jan 29 11:47:52 2018] GET /aws/log/123 => generated 0 bytes in 0 msecs (HTTP/1.1 404) 2 headers in 92 bytes (0 switches on core 0)
[pid: 15974|app: 0|req: 16/16] 127.0.0.1 () {32 vars in 398 bytes} [Mon Jan 29 11:47:59 2018] GET /v2/aws/log/123 => generated 0 bytes in 0 msecs (HTTP/1.1 405) 3 headers in 123 bytes (0 switches on core 0)
[pid: 15974|app: 0|req: 17/17] 127.0.0.1 () {34 vars in 418 bytes} [Mon Jan 29 11:48:06 2018] POST /v2/aws/log/123 => generated 104 bytes in 0 msecs (HTTP/1.1 401) 3 headers in 111 bytes (1 switches on core 0)
[pid: 15974|app: 0|req: 18/18] 127.0.0.1 () {34 vars in 418 bytes} [Mon Jan 29 11:48:25 2018] POST /reset_password => generated 0 bytes in 0 msecs (HTTP/1.1 404) 2 headers in 92 bytes (0 switches on core 0)
[pid: 15974|app: 0|req: 19/19] 127.0.0.1 () {34 vars in 424 bytes} [Mon Jan 29 11:48:31 2018] POST /v1/reset_password => generated 139 bytes in 0 msecs (HTTP/1.1 400) 3 headers in 110 bytes (1 switches on core 0)
Traceback (most recent call last):
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1122, in _do_get
    return self._pool.get(wait, self._timeout)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/util/queue.py", line 145, in get
    raise Empty
sqlalchemy.util.queue.Empty

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2138, in _wrap_pool_connect
    return fn()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 387, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 766, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 516, in checkout
    rec = pool._do_get()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1138, in _do_get
    self._dec_overflow()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 60, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1135, in _do_get
    return self._create_connection()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 333, in _create_connection
    return _ConnectionRecord(self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 461, in __init__
    self.__connect(first_connect_check=True)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 651, in __connect
    connection = pool._invoke_creator(self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 105, in connect
    return dialect.connect(*cargs, **cparams)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 393, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/psycopg2/__init__.py", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "./ftc/api/app.py", line 31, in __call__
    ret = super().__call__(env, start_response)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/falcon/api.py", line 209, in __call__
    responder(req, resp, **params)
  File "./ftc/api/resources/reset_password.py", line 11, in on_post
    email=req.payload['email']))
  File "./ftc/core/app.py", line 26, in run
    result = case.handle()
  File "./ftc/core/cases/reset_password.py", line 12, in handle
    if self.user_service.user_with_email_exists(self.email):
  File "./ftc/core/services/user.py", line 34, in user_with_email_exists
    func.lower(User.email) == user_email.lower()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2819, in scalar
    ret = self.one()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2790, in one
    ret = self.one_or_none()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2760, in one_or_none
    ret = list(self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2831, in __iter__
    return self._execute_and_instances(context)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2852, in _execute_and_instances
    close_with_result=True)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2861, in _get_bind_args
    **kw
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2843, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 966, in connection
    execution_options=execution_options)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 971, in _connection_for_bind
    engine, execution_options)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 403, in _connection_for_bind
    conn = bind.contextual_connect()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2103, in contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2142, in _wrap_pool_connect
    e, dialect, self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1456, in _handle_dbapi_exception_noconnection
    exc_info
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2138, in _wrap_pool_connect
    return fn()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 387, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 766, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 516, in checkout
    rec = pool._do_get()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1138, in _do_get
    self._dec_overflow()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 60, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1135, in _do_get
    return self._create_connection()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 333, in _create_connection
    return _ConnectionRecord(self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 461, in __init__
    self.__connect(first_connect_check=True)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 651, in __connect
    connection = pool._invoke_creator(self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 105, in connect
    return dialect.connect(*cargs, **cparams)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 393, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/psycopg2/__init__.py", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

[pid: 15974|app: 0|req: 20/20] 127.0.0.1 () {36 vars in 475 bytes} [Mon Jan 29 11:48:39 2018] POST /v1/reset_password => generated 0 bytes in 251 msecs (HTTP/1.1 500) 0 headers in 0 bytes (0 switches on core 0)
Traceback (most recent call last):
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1122, in _do_get
    return self._pool.get(wait, self._timeout)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/util/queue.py", line 145, in get
    raise Empty
sqlalchemy.util.queue.Empty

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2138, in _wrap_pool_connect
    return fn()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 387, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 766, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 516, in checkout
    rec = pool._do_get()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1138, in _do_get
    self._dec_overflow()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 60, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1135, in _do_get
    return self._create_connection()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 333, in _create_connection
    return _ConnectionRecord(self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 461, in __init__
    self.__connect(first_connect_check=True)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 651, in __connect
    connection = pool._invoke_creator(self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 105, in connect
    return dialect.connect(*cargs, **cparams)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 393, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/psycopg2/__init__.py", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "./ftc/api/app.py", line 31, in __call__
    ret = super().__call__(env, start_response)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/falcon/api.py", line 209, in __call__
    responder(req, resp, **params)
  File "./ftc/api/resources/reset_password.py", line 11, in on_post
    email=req.payload['email']))
  File "./ftc/core/app.py", line 26, in run
    result = case.handle()
  File "./ftc/core/cases/reset_password.py", line 12, in handle
    if self.user_service.user_with_email_exists(self.email):
  File "./ftc/core/services/user.py", line 34, in user_with_email_exists
    func.lower(User.email) == user_email.lower()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2819, in scalar
    ret = self.one()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2790, in one
    ret = self.one_or_none()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2760, in one_or_none
    ret = list(self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2831, in __iter__
    return self._execute_and_instances(context)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2852, in _execute_and_instances
    close_with_result=True)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2861, in _get_bind_args
    **kw
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2843, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 966, in connection
    execution_options=execution_options)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 971, in _connection_for_bind
    engine, execution_options)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 403, in _connection_for_bind
    conn = bind.contextual_connect()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2103, in contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2142, in _wrap_pool_connect
    e, dialect, self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1456, in _handle_dbapi_exception_noconnection
    exc_info
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2138, in _wrap_pool_connect
    return fn()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 387, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 766, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 516, in checkout
    rec = pool._do_get()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1138, in _do_get
    self._dec_overflow()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 60, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1135, in _do_get
    return self._create_connection()
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 333, in _create_connection
    return _ConnectionRecord(self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 461, in __init__
    self.__connect(first_connect_check=True)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/pool.py", line 651, in __connect
    connection = pool._invoke_creator(self)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 105, in connect
    return dialect.connect(*cargs, **cparams)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 393, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/home/kiro/anaconda3/envs/ftc/lib/python3.6/site-packages/psycopg2/__init__.py", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

[pid: 15974|app: 0|req: 21/21] 127.0.0.1 () {36 vars in 475 bytes} [Mon Jan 29 11:48:46 2018] POST /v1/reset_password => generated 0 bytes in 16 msecs (HTTP/1.1 500) 0 headers in 0 bytes (0 switches on core 0)
[pid: 15974|app: 0|req: 22/22] 127.0.0.1 () {32 vars in 398 bytes} [Mon Jan 29 11:48:53 2018] GET /v2/aws/log/123 => generated 0 bytes in 0 msecs (HTTP/1.1 405) 3 headers in 123 bytes (0 switches on core 0)
